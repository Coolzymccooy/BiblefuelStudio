import{r as t,j as e,B as d,b as c,z as s}from"./index-CVz5JUij.js";import{C as o}from"./Card-rTP5vDtj.js";import{I as u}from"./Input-BorFRgvq.js";function k(){const[l,m]=t.useState("7 Bible Verses for Anxiety & Fear (With Reflections & Prayers)"),[n,p]=t.useState("Biblefuel: 30 Days of Strength, Peace & Faith"),[r,x]=t.useState(null),[h,i]=t.useState(!1),f=async()=>{i(!0);try{const a=await c.post("/api/gumroad/generate",{freeTitle:l,paidTitle:n});a.ok&&a.data?(x(a.data),s.success("Generated Gumroad packs!")):s.error(a.error||"Generation failed")}catch{s.error("An error occurred")}finally{i(!1)}},w=()=>{c.download("/api/gumroad/download.zip")};return e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Gumroad Pack Builder"}),e.jsxs(o,{title:"Configuration",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Generates Markdown you can paste into Gumroad, and a ZIP you can upload."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lead magnet title"}),e.jsx(u,{value:l,onChange:a=>m(a.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Paid product title"}),e.jsx(u,{value:n,onChange:a=>p(a.target.value)})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(d,{onClick:f,isLoading:h,className:"w-full sm:w-auto",children:"Generate"}),e.jsx(d,{onClick:w,variant:"secondary",className:"w-full sm:w-auto",children:"Download ZIP"})]})]})]}),r&&e.jsxs("div",{className:"mt-6 space-y-4",children:[r.freeMarkdown&&e.jsx(o,{title:"Free product (Markdown)",children:e.jsx("pre",{className:"bg-black/30 border border-white/10 text-gray-200 p-4 rounded overflow-auto text-sm whitespace-pre-wrap",children:r.freeMarkdown})}),r.paidMarkdown&&e.jsx(o,{title:"Paid product (Markdown)",children:e.jsx("pre",{className:"bg-black/30 border border-white/10 text-gray-200 p-4 rounded overflow-auto text-sm whitespace-pre-wrap",children:r.paidMarkdown})})]})]})}export{k as GumroadPage};
