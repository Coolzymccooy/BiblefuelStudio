import{c as g,u as _,r as t,j as e,M as q,F as B,V as M,L as G,B as d,C as F,a as Q,z as h,b as R}from"./index-mjygeZEm.js";import{C as r}from"./Card-B4Hd2zyq.js";import{I as l}from"./Input-BFCTMBRB.js";import{S as T}from"./sparkles-DzBt8n5G.js";import{A as V}from"./archive-BN3TEog6.js";import{P as I}from"./play-B_zQPH1v.js";import{C as W,Z as D}from"./zap-Dh02_pPN.js";const K=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],O=g("arrow-left",K);const U=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],N=g("globe",U);const Y=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],H=g("mail",Y);function ae(){const{token:v,hasUser:x,isLoading:u,error:w,checkStatus:y,setup:k,login:S}=_(),[a,p]=t.useState(""),[m,b]=t.useState(""),[f,C]=t.useState(""),[i,o]=t.useState("login"),[E,n]=t.useState(null);t.useEffect(()=>{y()},[y]),t.useEffect(()=>{!x&&i==="login"&&o("setup"),x&&i==="setup"&&o("login")},[x]);const A=async s=>{s.preventDefault(),n(null),await k(a,m,f)&&h.success("Account created successfully!")},L=async s=>{s.preventDefault(),n(null),await S(a,m)&&h.success("Login successful!")},z=async s=>{s.preventDefault(),n(null);try{const c=await R.post("/api/auth/forgot-password",{email:a});c.ok?(h.success("Reset link sent to your email (simulated)"),o("login")):n(c.error||"Failed to request reset")}catch{n("An unexpected error occurred")}},P=()=>{window.location.href="http://localhost:10000/api/auth/google"},j=E||w;return v?e.jsxs("div",{className:"space-y-8 animate-fade-in",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -top-10 -left-10 w-32 h-32 bg-primary-500/20 rounded-full blur-3xl pointer-events-none"}),e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-2 bg-clip-text text-transparent bg-gradient-to-r from-white to-primary-200 leading-tight",children:"Welcome to Biblefuel"}),e.jsx("p",{className:"text-gray-400 text-base sm:text-lg max-w-2xl",children:"Your AI-powered content creation studio."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(r,{title:"Quick Start & Workflow",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Follow this order to build your content:"}),e.jsx("ol",{className:"space-y-3 text-gray-300",children:[{step:1,text:"Generate scripts",area:"Scripts",icon:T},{step:2,text:"Add to Queue & Export",area:"Queue",icon:V},{step:3,text:"Get Backgrounds",area:"Pexels",icon:I},{step:4,text:"Generate Voice",area:"Voice & Audio",icon:q},{step:5,text:"Edit Timeline",area:"Timeline",icon:B},{step:6,text:"Render Video",area:"Render",icon:M},{step:7,text:"Share to Socials",area:"Share",icon:N}].map(s=>e.jsxs("li",{className:"flex gap-4 items-start p-2 rounded-lg hover:bg-white/5 transition-colors group",children:[e.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-primary-500/10 text-primary-400 font-bold text-xs ring-1 ring-primary-500/20 group-hover:bg-primary-500/20 group-hover:ring-primary-500/40 transition-all",children:s.step}),e.jsxs("span",{className:"text-sm",children:[s.text.replace(s.area,""),e.jsx("strong",{className:"text-primary-300 font-medium border-b border-primary-500/10 pb-0.5",children:s.area}),s.text.split(s.area)[1]||""]})]},s.step))}),e.jsx(G,{to:"/help",className:"block w-full",children:e.jsxs(d,{variant:"secondary",className:"w-full mt-4 text-xs h-9 justify-center bg-white/5 border-white/10",children:[e.jsx(F,{size:14,className:"mr-2"}),"View Full Automation Guide"]})})]})}),e.jsx(r,{title:"Automation Tips",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-primary-500/5 rounded-xl border border-primary-500/10",children:[e.jsxs("h4",{className:"text-sm font-bold text-primary-400 flex items-center gap-2 mb-1",children:[e.jsx(W,{size:14})," Batch Rendering"]}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Queue multiple videos and render them all at once in the background. Check the ",e.jsx("strong",{className:"text-gray-300",children:"Jobs"})," tab for status."]})]}),e.jsxs("div",{className:"p-3 bg-indigo-500/5 rounded-xl border border-indigo-500/10",children:[e.jsxs("h4",{className:"text-sm font-bold text-indigo-400 flex items-center gap-2 mb-1",children:[e.jsx(Q,{size:14})," Global Queue"]}),e.jsx("p",{className:"text-xs text-gray-400",children:"Your Queue is central. Add scripts once, then pull them into any other tool (Timeline, Backgrounds) instantly."})]}),e.jsxs("div",{className:"p-3 bg-emerald-500/5 rounded-xl border border-emerald-500/10",children:[e.jsxs("h4",{className:"text-sm font-bold text-emerald-400 flex items-center gap-2 mb-1",children:[e.jsx(D,{size:14})," One-Click Workflow"]}),e.jsx("p",{className:"text-xs text-gray-400",children:'Use the "Apply to Timeline" buttons to skip the manual file picking. We track everything for you.'})]})]})})]}),e.jsx(r,{className:"mt-6 border-t font-mono text-xs",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse shadow-[0_0_8px_rgba(16,185,129,0.5)]"}),e.jsx("span",{children:"System Authenticated"})]}),e.jsx("span",{className:"text-gray-600",children:"v3.0.0"})]})})]}):e.jsxs("div",{className:"min-h-[80vh] flex flex-col items-center justify-center p-4 sm:p-6 animate-fade-in",children:[e.jsxs("div",{className:"lg:hidden w-full max-w-md text-center mb-8",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary-400 to-indigo-400 font-display mb-2",children:"Biblefuel Studio"}),e.jsx("p",{className:"text-gray-400 text-sm sm:text-base",children:"Login to access your workspace"})]}),e.jsxs("div",{className:"w-full max-w-md space-y-6",children:[i==="setup"&&e.jsx(r,{title:"One-Time Setup",children:e.jsxs("form",{onSubmit:A,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1.5 ml-1",children:"Setup Key"}),e.jsx(l,{type:"password",value:f,onChange:s=>C(s.target.value),placeholder:"Enter ADMIN_SETUP_KEY from .env",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1.5 ml-1",children:"Email"}),e.jsx(l,{type:"email",value:a,onChange:s=>p(s.target.value),placeholder:"admin@example.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1.5 ml-1",children:"Password"}),e.jsx(l,{type:"password",value:m,onChange:s=>b(s.target.value),placeholder:"Min 8 characters",required:!0,minLength:8})]}),e.jsx(d,{type:"submit",className:"w-full",isLoading:u,children:"Create Account"})]})}),i==="login"&&e.jsx(r,{title:"Welcome Back",children:e.jsxs("form",{onSubmit:L,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1.5 ml-1",children:"Email"}),e.jsx(l,{type:"email",value:a,onChange:s=>p(s.target.value),placeholder:"admin@example.com",required:!0})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-1.5 ml-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"Password"}),e.jsx("button",{type:"button",onClick:()=>o("forgot-password"),className:"text-xs text-primary-400 hover:text-primary-300 transition-colors",children:"Forgot Password?"})]}),e.jsx(l,{type:"password",value:m,onChange:s=>b(s.target.value),placeholder:"Enter password",required:!0})]}),e.jsx(d,{type:"submit",className:"w-full",isLoading:u,children:"Login"}),e.jsxs("div",{className:"relative my-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t border-white/10"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-dark-900 px-2 text-gray-500",children:"Or continue with"})})]}),e.jsxs(d,{type:"button",variant:"secondary",className:"w-full bg-white text-black hover:bg-gray-200 border-none",onClick:P,children:[e.jsx(N,{size:18,className:"mr-2"}),"Google"]})]})}),i==="forgot-password"&&e.jsx(r,{title:"Reset Password",children:e.jsxs("form",{onSubmit:z,className:"space-y-5",children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Enter your email address and we'll send you a link to reset your password."}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1.5 ml-1",children:"Email"}),e.jsx(l,{type:"email",value:a,onChange:s=>p(s.target.value),placeholder:"admin@example.com",required:!0})]}),e.jsxs(d,{type:"submit",className:"w-full",isLoading:u,children:[e.jsx(H,{size:16,className:"mr-2"}),"Send Reset Link"]}),e.jsxs("button",{type:"button",onClick:()=>o("login"),className:"w-full flex items-center justify-center gap-2 text-sm text-gray-400 hover:text-white transition-colors",children:[e.jsx(O,{size:16}),"Back to Login"]})]})}),j&&e.jsx("div",{className:"p-4 bg-red-500/10 border border-red-500/20 text-red-200 rounded-xl text-sm text-center animate-in slide-in-from-top-2",children:j})]})]})}export{ae as HomePage};
