import{c as be,f as Je,r as t,j as e,B as o,V as He,b as h,z as i}from"./index-ByH9QKpT.js";import{C}from"./Card-GMtsdRV-.js";import{I as D}from"./Input-84aX7ldF.js";import{T as Ye}from"./Textarea-DNDjhLct.js";import{S as P}from"./Select-Cma8fr2m.js";import{l as u,s as x,t as U,S as r}from"./storage-Be9O-pzO.js";import{L as J}from"./library-DjpNfkAa.js";import{P as Ge}from"./play-Dr3UnXmT.js";import{C as H}from"./circle-check-DbS1OkXB.js";const Ke=[["path",{d:"M2 10v3",key:"1fnikh"}],["path",{d:"M6 6v11",key:"11sgs0"}],["path",{d:"M10 3v18",key:"yhl04a"}],["path",{d:"M14 8v7",key:"3a1oy3"}],["path",{d:"M18 5v13",key:"123xd1"}],["path",{d:"M22 10v3",key:"154ddg"}]],Qe=be("audio-lines",Ke);const Ze=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],fe=be("clipboard-list",Ze);function cs(){const{config:ge}=Je(),O=ge.features.render,[v,W]=t.useState(""),[j,q]=t.useState(""),[m,I]=t.useState(""),[Y,G]=t.useState(!1),[n,T]=t.useState(!1),[d,ve]=t.useState(null),[je,B]=t.useState(!1),[K,ye]=t.useState([]),[ke,Q]=t.useState(!1),[we,R]=t.useState(!1),[Z,Ne]=t.useState([]),[Se,X]=t.useState(!1),[c,ee]=t.useState(null),[Ce,A]=t.useState(!1),[V,Pe]=t.useState([]),[se,Me]=t.useState([]),[b,te]=t.useState("portrait"),[y,ae]=t.useState(90),[M,F]=t.useState(""),[k,re]=t.useState(.3),[L,ie]=t.useState(!0),[w,le]=t.useState(20),[N,Le]=t.useState("webhook"),[Ie,Be]=t.useState([]),[oe,ce]=t.useState(""),[Re,Ae]=t.useState([]),[ne,de]=t.useState(""),[$,Ve]=t.useState([]),[E,z]=t.useState(""),S=s=>U(s,h.baseUrl),ue=s=>/\.(mp4|mov|webm|m4v)(\?|#|$)/i.test(String(s||""));t.useEffect(()=>{const s=u(r.scripts,[]);s.length&&Pe(s);const l=u(r.audioPath,"");l&&q(l);const a=u(r.audioHistory,[]);a.length&&Me(a);const f=u(r.renderLines,"");f&&I(f);const p=u(r.renderBackgroundPath,"");p&&W(p);const pe=u(r.renderInBackground,!1);pe&&T(pe);const qe=u(r.renderAspect,"portrait");te(qe);const Te=u(r.renderCaptionWidth,90);ae(Te);const me=u(r.renderMusicPath,"");me&&F(me);const Fe=u(r.renderMusicVolume,.3);re(Fe);const $e=u(r.renderAutoDuck,!0);ie($e);const _e=u(r.renderDurationSec,20);le(_e)},[]),t.useEffect(()=>{x(r.audioPath,j)},[j]),t.useEffect(()=>{x(r.renderLines,m)},[m]),t.useEffect(()=>{x(r.renderBackgroundPath,v)},[v]),t.useEffect(()=>{x(r.renderInBackground,n)},[n]),t.useEffect(()=>{x(r.renderAspect,b)},[b]),t.useEffect(()=>{x(r.renderCaptionWidth,y)},[y]),t.useEffect(()=>{x(r.renderMusicPath,M)},[M]),t.useEffect(()=>{x(r.renderMusicVolume,k)},[k]),t.useEffect(()=>{x(r.renderAutoDuck,L)},[L]),t.useEffect(()=>{x(r.renderDurationSec,w)},[w]);const g=w>60;t.useEffect(()=>{g&&!n&&T(!0)},[g,n]);const _=s=>[s.hook,`${s.verse} (${s.reference})`,s.reflection,s.cta].filter(Boolean).join(`
`),he=async s=>{if(!v&&!c){i.error("Background is required");return}const l=m.split(`
`).map(a=>a.trim()).filter(Boolean).slice(0,6);if(l.length===0){i.error("Overlay text lines are required (max 6)");return}if(s==="waveform"&&!j.trim()){i.error("Audio Path is required for waveform mode");return}G(!0);try{const a=n?"/api/jobs/enqueue":`/api/render/${s}`,f=n?{type:s==="video"?"render_video":"render_waveform",payload:{backgroundPath:c?.id||v,audioPath:j,lines:l,durationSec:w,aspect:b,captionWidthPct:y,musicPath:M||void 0,musicVolume:k,autoDuck:L}}:{backgroundPath:c?.id||v,audioPath:j,lines:l,durationSec:w,aspect:b,captionWidthPct:y,musicPath:M||void 0,musicVolume:k,autoDuck:L},p=await h.post(a,f);p.ok?n?i.success("Job enqueued successfully!"):(i.success("Video rendered successfully!"),ve(p.data)):i.error(p.error||"Rendering failed")}catch{i.error("An error occurred")}finally{G(!1)}},Ee=async()=>{B(!0),Q(!0);try{const s=await h.get("/api/library");s.ok&&s.data?.library?.items&&ye(s.data.library.items)}catch{i.error("Failed to load library")}finally{Q(!1)}},ze=async()=>{R(!0),X(!0);try{const s=await h.get("/api/media/audio-list");s.ok&&s.data?.items?Ne(s.data.items):i.error(s.error||"Failed to load music library")}catch{i.error("Failed to load music library")}finally{X(!1)}},De=s=>{F(s.path||""),R(!1),i.success("Soundtrack selected")},Ue=s=>{ee(s),W(s.id),B(!1),i.success("Background selected")},Oe=async()=>{const s=await h.get("/api/social/config");s.ok&&s.data&&(Be(s.data.webhooks||[]),ce(s.data.webhooks?.[0]?.id||""),Ae(s.data.buffer?.profileIds||[]),de(s.data.buffer?.profileIds?.[0]||""))};t.useEffect(()=>{Oe()},[]);const xe=async()=>{const s=await h.get("/api/jobs");if(!s.ok||!s.data?.jobs)return;const l=s.data.jobs.filter(a=>a.status==="done"&&a.type==="render_video"&&a.result?.outFile).map(a=>({id:a.id,label:`${a.id.slice(0,8)} â€¢ ${new Date(a.createdAt).toLocaleString()}`,path:a.result.outFile}));Ve(l),!E&&!d?.file&&l.length>0&&z(l[0].path)};t.useEffect(()=>{xe()},[]),t.useEffect(()=>{d?.file&&z(d.file)},[d?.file]);const We=async()=>{const s=E||d?.file,l=s?U(s,h.baseUrl):"";if(!l){i.error("Render a video first");return}const a=m.split(`
`).filter(Boolean).join(" ");if(!a){i.error("Caption is empty");return}const f={destination:N,caption:a,videoUrl:l};N==="webhook"&&(f.webhookId=oe),N==="buffer"&&(f.profileIds=[ne]);const p=await h.post("/api/social/post",f);p.ok?i.success("Share triggered"):i.error(p.error||"Share failed")};return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsx("h2",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-white to-primary-200",children:"Video Renderer"}),e.jsxs(C,{title:"Configuration",children:[!O&&e.jsx("div",{className:"mb-4 text-xs text-yellow-200 bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-3",children:"Rendering is disabled because FFmpeg was not detected on the server."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Background Asset"}),c?e.jsxs("div",{className:`relative bg-black rounded-xl overflow-hidden group ${b==="landscape"?"aspect-[16/9]":b==="square"?"aspect-square":"aspect-[9/16]"}`,children:[ue(c.previewUrl||c.url)?e.jsx("video",{src:S(c.previewUrl||c.url),className:"w-full h-full object-cover opacity-60 group-hover:opacity-100 transition-opacity",muted:!0,loop:!0,playsInline:!0,autoPlay:!0,poster:S(c.image)}):e.jsx("img",{src:S(c.image||c.previewUrl||c.url),className:"w-full h-full object-cover opacity-60 group-hover:opacity-100 transition-opacity",alt:""}),e.jsx("div",{className:"absolute inset-[8%] border border-white/40 border-dashed pointer-events-none rounded-md"}),e.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsx(o,{onClick:()=>ee(null),variant:"secondary",className:"h-8 text-xs bg-red-500/10 text-red-400 border-red-500/20",children:"Change"})}),e.jsxs("div",{className:"absolute bottom-0 inset-x-0 p-2 bg-gradient-to-t from-black/80 text-[10px] text-white font-mono truncate",children:["ID: ",c.id]})]}):e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(D,{value:v,onChange:s=>W(s.target.value),placeholder:"Manual path (e.g. server/outputs/xyz.mp4)",className:"bg-black/20"}),e.jsxs(o,{onClick:Ee,variant:"secondary",className:"h-10 border-dashed border-white/10 text-xs",children:[e.jsx(J,{size:14,className:"mr-2"}),"Select from Library"]})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Output Frame"}),e.jsxs(P,{value:b,onChange:s=>te(s.target.value),children:[e.jsx("option",{value:"portrait",children:"Portrait (9:16)"}),e.jsx("option",{value:"landscape",children:"Landscape (16:9)"}),e.jsx("option",{value:"square",children:"Square (1:1)"})]}),e.jsx("p",{className:"text-[10px] text-gray-500 mt-1 uppercase tracking-tighter",children:"Text auto-wrap adjusts to the selected frame"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Duration"}),e.jsxs(P,{value:String(w),onChange:s=>le(Number(s.target.value)),children:[e.jsx("option",{value:"20",children:"20s (default)"}),e.jsx("option",{value:"60",children:"60s"}),e.jsx("option",{value:"120",children:"120s"}),e.jsx("option",{value:"180",children:"180s"})]}),g&&e.jsx("div",{className:"mt-2 text-[10px] uppercase tracking-widest text-yellow-300 bg-yellow-500/10 border border-yellow-500/20 rounded-md px-2 py-1 inline-block",children:"Long render queued only"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:["Caption Width (",y,"%)"]}),e.jsx("input",{type:"range",min:"60",max:"100",step:"2",value:y,onChange:s=>ae(Number(s.target.value)),className:"w-full accent-primary-500"}),e.jsx("p",{className:"text-[10px] text-gray-500 mt-1 uppercase tracking-tighter",children:"Lower value = more padding and tighter line wrapping"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Audio Source (required for waveform)"}),e.jsx(D,{value:j,onChange:s=>q(s.target.value),placeholder:"e.g. server/outputs/tts-xyz.mp3",className:"bg-black/20"}),se.length>0&&e.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:se.slice(0,4).map(s=>e.jsx("button",{onClick:()=>q(s.path),className:"text-[10px] px-2 py-1 rounded-full bg-white/10 text-gray-200 hover:bg-white/20",children:s.kind},s.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Soundtrack (optional)"}),e.jsx(D,{value:M,onChange:s=>F(s.target.value),placeholder:"e.g. server/outputs/music.mp3",className:"bg-black/20"}),e.jsxs(o,{onClick:ze,variant:"secondary",className:"mt-2 h-9 text-xs border-dashed border-white/10",children:[e.jsx(J,{size:14,className:"mr-2"}),"Select from Music Library"]}),e.jsxs("label",{className:"block text-xs text-gray-500 mt-2",children:["Music Volume (",k,")"]}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:k,onChange:s=>re(Number(s.target.value)),className:"w-full accent-primary-500"}),e.jsxs("label",{className:"mt-3 flex items-center gap-2 text-xs text-gray-400",children:[e.jsx("input",{type:"checkbox",checked:L,onChange:s=>ie(s.target.checked),className:"rounded border-white/10 bg-black/50 checked:bg-primary-500"}),"Auto-duck music under voice"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Overlay Text (max 6 lines)"}),e.jsx(Ye,{value:m,onChange:s=>I(s.target.value),placeholder:"Enter your script lines here...",className:"bg-black/20 h-32"}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[e.jsxs(o,{variant:"secondary",className:"h-8 text-xs",onClick:()=>A(!0),children:[e.jsx(fe,{size:14,className:"mr-2"}),"Pick From Scripts"]}),V.length>0&&e.jsx(o,{variant:"secondary",className:"h-8 text-xs",onClick:()=>I(_(V[0])),children:"Use Latest Script"})]}),e.jsx("p",{className:"text-[10px] text-gray-500 mt-1 uppercase tracking-tighter",children:"One line per caption slide (auto-sliced)"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"background",checked:n,onChange:s=>T(s.target.checked),className:"rounded border-white/10 bg-black/50 checked:bg-primary-500",disabled:g}),e.jsx("label",{htmlFor:"background",className:"text-sm text-gray-400",children:"Render in background (Jobs System)"}),g&&e.jsx("span",{className:"text-[10px] text-yellow-300",children:"Required for 60s+"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs(o,{onClick:()=>he("video"),isLoading:Y,className:"w-full h-12 text-md",disabled:!O||g&&!n,children:[e.jsx(He,{size:18,className:"mr-2"}),n?"Queue Video Render":"Start Instant Render"]}),e.jsxs(o,{onClick:()=>he("waveform"),isLoading:Y,variant:"secondary",className:"w-full h-12 text-md",disabled:!O||g&&!n,children:[e.jsx(Qe,{size:18,className:"mr-2"}),n?"Queue Waveform Render":"Render Waveform MP4"]})]})]})]}),d&&e.jsx(C,{title:"Render Result",className:"border-green-500/20 bg-green-500/5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-3 bg-black/40 rounded-lg font-mono text-xs text-green-400 break-all",children:d.file||JSON.stringify(d)}),e.jsxs(o,{onClick:()=>{const s=U(d.file,h.baseUrl);window.open(s,"_blank")},variant:"secondary",className:"w-full",children:[e.jsx(Ge,{size:16,className:"mr-2"}),"Open Video"]})]})}),m&&e.jsx(C,{title:"Share Kit",className:"border-white/10 bg-white/[0.03]",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-xs text-gray-400",children:"Copy your caption and upload the rendered file to TikTok/IG/YouTube Shorts."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] uppercase tracking-widest text-gray-500 mb-1",children:"Video to Share"}),e.jsxs(P,{value:E,onChange:s=>z(s.target.value),children:[d?.file&&e.jsx("option",{value:d.file,children:"Latest Instant Render"}),$.length>0&&e.jsx("optgroup",{label:"Completed Jobs",children:$.map(s=>e.jsx("option",{value:s.path,children:s.label},s.id))}),!d?.file&&$.length===0&&e.jsx("option",{value:"",children:"No rendered videos found"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] uppercase tracking-widest text-gray-500 mb-1",children:"Or Paste Video Path"}),e.jsx(D,{value:E,onChange:s=>z(s.target.value),placeholder:"outputs/video-xyz.mp4",className:"bg-black/20"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:e.jsx(o,{variant:"secondary",className:"text-xs h-8",onClick:xe,children:"Refresh Rendered Videos"})}),e.jsx("div",{className:"bg-black/30 border border-white/10 rounded-lg p-3 text-xs text-gray-200 whitespace-pre-wrap",children:m.split(`
`).filter(Boolean).join(" ")}),e.jsx("div",{className:"flex flex-wrap gap-2",children:e.jsx(o,{variant:"secondary",className:"text-xs h-8 w-full sm:w-auto",onClick:()=>{navigator.clipboard.writeText(m.split(`
`).filter(Boolean).join(" ")),i.success("Caption copied")},children:"Copy Caption"})}),e.jsxs("div",{className:"pt-2 border-t border-white/10 space-y-2",children:[e.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest",children:"Auto Post"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[e.jsxs(P,{value:N,onChange:s=>Le(s.target.value),children:[e.jsx("option",{value:"webhook",children:"Webhook (Zapier/Make)"}),e.jsx("option",{value:"buffer",children:"Buffer (Legacy)"}),e.jsx("option",{value:"youtube",children:"YouTube (Direct)"}),e.jsx("option",{value:"instagram",children:"Instagram (Direct)"}),e.jsx("option",{value:"tiktok",children:"TikTok (Direct)"})]}),N==="webhook"?e.jsxs(P,{value:oe,onChange:s=>ce(s.target.value),children:[e.jsx("option",{value:"",children:"Select webhook..."}),Ie.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}):N==="buffer"?e.jsxs(P,{value:ne,onChange:s=>de(s.target.value),children:[e.jsx("option",{value:"",children:"Select profile..."}),Re.map(s=>e.jsx("option",{value:s,children:s},s))]}):e.jsx("div",{className:"text-[10px] text-yellow-300 bg-yellow-500/10 border border-yellow-500/20 rounded-md px-2 py-1",children:"Direct API requires OAuth setup"}),e.jsx(o,{onClick:We,className:"text-xs h-8",children:"Share Now"})]})]})]})}),je&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>B(!1)}),e.jsxs(C,{className:"relative w-full max-w-4xl max-h-[80vh] overflow-hidden flex flex-col border-white/20 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[e.jsx("h3",{className:"font-bold text-lg text-white",children:"Select Background"}),e.jsx("button",{onClick:()=>B(!1),className:"text-gray-500 hover:text-white",children:e.jsx(H,{size:24})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:ke?e.jsx("div",{className:"col-span-full py-20 flex justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-primary-500"})}):K.length>0?K.map(s=>e.jsxs("div",{className:"group relative aspect-[9/16] bg-black rounded-xl overflow-hidden cursor-pointer hover:ring-2 hover:ring-primary-500 transition-all shadow-lg",onClick:()=>Ue(s),children:[ue(s.previewUrl||s.url)?e.jsx("video",{src:S(s.previewUrl||s.url),className:"w-full h-full object-cover opacity-60 group-hover:opacity-100 transition-opacity",muted:!0,loop:!0,playsInline:!0,autoPlay:!0,poster:S(s.image)}):e.jsx("img",{src:S(s.image||s.previewUrl||s.url),className:"w-full h-full object-cover opacity-60 group-hover:opacity-100 transition-opacity",alt:""}),e.jsx("div",{className:"absolute inset-x-0 bottom-0 p-2 bg-gradient-to-t from-black/80 to-transparent",children:e.jsxs("p",{className:"text-[10px] font-mono text-white truncate",children:["ID: ",s.id]})})]},s.id)):e.jsxs("div",{className:"col-span-full py-20 text-center opacity-30 text-white",children:[e.jsx(J,{size:48,className:"mx-auto mb-4"}),e.jsx("p",{children:"Your library is empty."})]})})]})]}),Ce&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>A(!1)}),e.jsxs(C,{className:"relative w-full max-w-4xl max-h-[80vh] overflow-hidden flex flex-col border-white/20 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[e.jsx("h3",{className:"font-bold text-lg text-white",children:"Scripts Library"}),e.jsx("button",{onClick:()=>A(!1),className:"text-gray-500 hover:text-white",children:e.jsx(H,{size:24})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:V.length===0?e.jsxs("div",{className:"text-center opacity-50 text-white py-12",children:[e.jsx(fe,{size:48,className:"mx-auto mb-4"}),e.jsx("p",{children:"No scripts found. Generate scripts first."})]}):V.map((s,l)=>e.jsxs("div",{className:"border border-white/10 rounded-xl p-4 hover:border-primary-500/40 transition",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:"font-semibold text-white text-sm",children:[l+1,". ",s.title]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{variant:"secondary",className:"text-xs h-8",onClick:()=>{const a=_(s);I(a),A(!1),i.success("Script loaded into overlay")},children:"Use"}),e.jsx(o,{variant:"secondary",className:"text-xs h-8",onClick:()=>{const a=_(s);navigator.clipboard.writeText(a),i.success("Copied to clipboard")},children:"Copy"})]})]}),e.jsxs("div",{className:"text-xs text-gray-300 space-y-1",children:[e.jsx("p",{children:s.hook}),e.jsxs("p",{children:[s.verse," (",s.reference,")"]}),e.jsx("p",{children:s.reflection}),e.jsx("p",{children:s.cta})]})]},`${s.title}-${l}`))})]})]}),we&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>R(!1)}),e.jsxs(C,{className:"relative w-full max-w-3xl max-h-[80vh] overflow-hidden flex flex-col border-white/20 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[e.jsx("h3",{className:"font-bold text-lg text-white",children:"Music Library"}),e.jsx("button",{onClick:()=>R(!1),className:"text-gray-500 hover:text-white",children:e.jsx(H,{size:24})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:Se?e.jsx("div",{className:"py-20 flex justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-primary-500"})}):Z.length>0?Z.map(s=>e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-3 flex flex-col md:flex-row md:items-center gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider",children:s.name||"Audio"}),e.jsx("p",{className:"text-xs font-mono text-white/80 truncate",children:s.path})]}),e.jsx("audio",{controls:!0,src:U(s.path,h.baseUrl),className:"w-full md:w-56"}),e.jsx(o,{onClick:()=>De(s),className:"text-xs h-8",variant:"secondary",children:"Use"})]},s.path||s.name)):e.jsx("div",{className:"py-20 text-center text-gray-400 text-sm",children:"No audio files found in outputs."})})]})]})]})}export{cs as RenderPage};
