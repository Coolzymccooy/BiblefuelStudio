import{c as ye,f as Ge,r as t,j as e,B as c,V as Ke,b as p,z as i}from"./index-CxYgDQXy.js";import{C as S}from"./Card-vEHJlAFj.js";import{I as U}from"./Input-BbJpD39E.js";import{T as Qe}from"./Textarea-g3ERAsS5.js";import{S as C}from"./Select-Bhl8QH8o.js";import{l as u,s as m,t as D,S as l}from"./storage-Be9O-pzO.js";import{L as J}from"./library-CVrf44HB.js";import{P as Ze}from"./play-qVgS35P6.js";import{C as H}from"./circle-check-DpdJZAGN.js";const Xe=[["path",{d:"M2 10v3",key:"1fnikh"}],["path",{d:"M6 6v11",key:"11sgs0"}],["path",{d:"M10 3v18",key:"yhl04a"}],["path",{d:"M14 8v7",key:"3a1oy3"}],["path",{d:"M18 5v13",key:"123xd1"}],["path",{d:"M22 10v3",key:"154ddg"}]],es=ye("audio-lines",Xe);const ss=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],ve=ye("clipboard-list",ss);function us(){const{config:je}=Ge(),T=je.features.render,[v,W]=t.useState(""),[y,O]=t.useState(""),[f,L]=t.useState(""),[Y,G]=t.useState(!1),[n,q]=t.useState(!1),[d,ke]=t.useState(null),[we,I]=t.useState(!1),[K,Ne]=t.useState([]),[Se,Q]=t.useState(!1),[Ce,E]=t.useState(!1),[Z,Pe]=t.useState([]),[Me,X]=t.useState(!1),[h,ee]=t.useState(null),[Le,A]=t.useState(!1),[B,Ie]=t.useState([]),[se,Ee]=t.useState([]),[b,te]=t.useState("portrait"),[j,ae]=t.useState(90),[P,$]=t.useState(""),[k,re]=t.useState(.3),[M,le]=t.useState(!0),[w,ie]=t.useState(20),[N,Ae]=t.useState("webhook"),[Be,Re]=t.useState([]),[oe,ce]=t.useState(""),[ze,Ve]=t.useState([]),[ne,de]=t.useState(""),[F,Ue]=t.useState([]),[R,z]=t.useState(""),V=s=>D(s,p.baseUrl),ue=s=>/\.(mp4|mov|webm|m4v)(\?|#|$)/i.test(String(s||"")),he=s=>{const a=String(s||"").replace(/\\/g,"/").trim();if(!a||a.startsWith("http://")||a.startsWith("https://"))return"";const o=(a.split("/").pop()||"").replace(/\.[^.]+$/,"");return o?V(`/outputs/${o}.jpg`):""},xe=s=>V(s?.image)||he(s?.previewUrl||s?.url)||"",pe=(s,a)=>{const r=he(a?.previewUrl||a?.url),o=s.currentTarget;if(!(o.dataset.fallbackApplied==="1")&&r&&o.src!==r){o.dataset.fallbackApplied="1",o.src=r;return}o.style.display="none"};t.useEffect(()=>{const s=u(l.scripts,[]);s.length&&Ie(s);const a=u(l.audioPath,"");a&&O(a);const r=u(l.audioHistory,[]);r.length&&Ee(r);const o=u(l.renderLines,"");o&&L(o);const x=u(l.renderBackgroundPath,"");x&&W(x);const be=u(l.renderInBackground,!1);be&&q(be);const Fe=u(l.renderAspect,"portrait");te(Fe);const _e=u(l.renderCaptionWidth,90);ae(_e);const ge=u(l.renderMusicPath,"");ge&&$(ge);const Je=u(l.renderMusicVolume,.3);re(Je);const He=u(l.renderAutoDuck,!0);le(He);const Ye=u(l.renderDurationSec,20);ie(Ye)},[]),t.useEffect(()=>{m(l.audioPath,y)},[y]),t.useEffect(()=>{m(l.renderLines,f)},[f]),t.useEffect(()=>{m(l.renderBackgroundPath,v)},[v]),t.useEffect(()=>{m(l.renderInBackground,n)},[n]),t.useEffect(()=>{m(l.renderAspect,b)},[b]),t.useEffect(()=>{m(l.renderCaptionWidth,j)},[j]),t.useEffect(()=>{m(l.renderMusicPath,P)},[P]),t.useEffect(()=>{m(l.renderMusicVolume,k)},[k]),t.useEffect(()=>{m(l.renderAutoDuck,M)},[M]),t.useEffect(()=>{m(l.renderDurationSec,w)},[w]);const g=w>60;t.useEffect(()=>{g&&!n&&q(!0)},[g,n]);const _=s=>[s.hook,`${s.verse} (${s.reference})`,s.reflection,s.cta].filter(Boolean).join(`
`),me=async s=>{if(!v&&!h){i.error("Background is required");return}const a=f.split(`
`).map(r=>r.trim()).filter(Boolean).slice(0,6);if(a.length===0){i.error("Overlay text lines are required (max 6)");return}if(s==="waveform"&&!y.trim()){i.error("Audio Path is required for waveform mode");return}G(!0);try{const r=n?"/api/jobs/enqueue":`/api/render/${s}`,o=n?{type:s==="video"?"render_video":"render_waveform",payload:{backgroundPath:h?.id||v,audioPath:y,lines:a,durationSec:w,aspect:b,captionWidthPct:j,musicPath:P||void 0,musicVolume:k,autoDuck:M}}:{backgroundPath:h?.id||v,audioPath:y,lines:a,durationSec:w,aspect:b,captionWidthPct:j,musicPath:P||void 0,musicVolume:k,autoDuck:M},x=await p.post(r,o);x.ok?n?i.success("Job enqueued successfully!"):(i.success("Video rendered successfully!"),ke(x.data)):i.error(x.error||"Rendering failed")}catch{i.error("An error occurred")}finally{G(!1)}},De=async()=>{I(!0),Q(!0);try{const s=await p.get("/api/library");s.ok&&s.data?.library?.items&&Ne(s.data.library.items)}catch{i.error("Failed to load library")}finally{Q(!1)}},Te=async()=>{E(!0),X(!0);try{const s=await p.get("/api/media/audio-list");s.ok&&s.data?.items?Pe(s.data.items):i.error(s.error||"Failed to load music library")}catch{i.error("Failed to load music library")}finally{X(!1)}},We=s=>{$(s.path||""),E(!1),i.success("Soundtrack selected")},Oe=s=>{ee(s),W(s.id),I(!1),i.success("Background selected")},qe=async()=>{const s=await p.get("/api/social/config");s.ok&&s.data&&(Re(s.data.webhooks||[]),ce(s.data.webhooks?.[0]?.id||""),Ve(s.data.buffer?.profileIds||[]),de(s.data.buffer?.profileIds?.[0]||""))};t.useEffect(()=>{qe()},[]);const fe=async()=>{const s=await p.get("/api/jobs");if(!s.ok||!s.data?.jobs)return;const a=s.data.jobs.filter(r=>r.status==="done"&&r.type==="render_video"&&r.result?.outFile).map(r=>({id:r.id,label:`${r.id.slice(0,8)} â€¢ ${new Date(r.createdAt).toLocaleString()}`,path:r.result.outFile}));Ue(a),!R&&!d?.file&&a.length>0&&z(a[0].path)};t.useEffect(()=>{fe()},[]),t.useEffect(()=>{d?.file&&z(d.file)},[d?.file]);const $e=async()=>{const s=R||d?.file,a=s?D(s,p.baseUrl):"";if(!a){i.error("Render a video first");return}const r=f.split(`
`).filter(Boolean).join(" ");if(!r){i.error("Caption is empty");return}const o={destination:N,caption:r,videoUrl:a};N==="webhook"&&(o.webhookId=oe),N==="buffer"&&(o.profileIds=[ne]);const x=await p.post("/api/social/post",o);x.ok?i.success("Share triggered"):i.error(x.error||"Share failed")};return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsx("h2",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-white to-primary-200",children:"Video Renderer"}),e.jsxs(S,{title:"Configuration",children:[!T&&e.jsx("div",{className:"mb-4 text-xs text-yellow-200 bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-3",children:"Rendering is disabled because FFmpeg was not detected on the server."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Background Asset"}),h?e.jsxs("div",{className:`relative bg-black rounded-xl overflow-hidden group ${b==="landscape"?"aspect-[16/9]":b==="square"?"aspect-square":"aspect-[9/16]"}`,children:[e.jsx("img",{src:xe(h),className:"w-full h-full object-cover opacity-70 group-hover:opacity-100 transition-opacity",alt:"",loading:"lazy",onError:s=>pe(s,h)}),ue(h.previewUrl||h.url)&&e.jsx("video",{src:V(h.previewUrl||h.url),className:"absolute inset-0 w-full h-full object-cover opacity-0 group-hover:opacity-100 transition-opacity",muted:!0,loop:!0,playsInline:!0,autoPlay:!0,preload:"metadata",onError:s=>{s.currentTarget.style.display="none"}}),e.jsx("div",{className:"absolute inset-[8%] border border-white/40 border-dashed pointer-events-none rounded-md"}),e.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsx(c,{onClick:()=>ee(null),variant:"secondary",className:"h-8 text-xs bg-red-500/10 text-red-400 border-red-500/20",children:"Change"})}),e.jsxs("div",{className:"absolute bottom-0 inset-x-0 p-2 bg-gradient-to-t from-black/80 text-[10px] text-white font-mono truncate",children:["ID: ",h.id]})]}):e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(U,{value:v,onChange:s=>W(s.target.value),placeholder:"Manual path (e.g. server/outputs/xyz.mp4)",className:"bg-black/20"}),e.jsxs(c,{onClick:De,variant:"secondary",className:"h-10 border-dashed border-white/10 text-xs",children:[e.jsx(J,{size:14,className:"mr-2"}),"Select from Library"]})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Output Frame"}),e.jsxs(C,{value:b,onChange:s=>te(s.target.value),children:[e.jsx("option",{value:"portrait",children:"Portrait (9:16)"}),e.jsx("option",{value:"landscape",children:"Landscape (16:9)"}),e.jsx("option",{value:"square",children:"Square (1:1)"})]}),e.jsx("p",{className:"text-[10px] text-gray-500 mt-1 uppercase tracking-tighter",children:"Text auto-wrap adjusts to the selected frame"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Duration"}),e.jsxs(C,{value:String(w),onChange:s=>ie(Number(s.target.value)),children:[e.jsx("option",{value:"20",children:"20s (default)"}),e.jsx("option",{value:"60",children:"60s"}),e.jsx("option",{value:"120",children:"120s"}),e.jsx("option",{value:"180",children:"180s"})]}),g&&e.jsx("div",{className:"mt-2 text-[10px] uppercase tracking-widest text-yellow-300 bg-yellow-500/10 border border-yellow-500/20 rounded-md px-2 py-1 inline-block",children:"Long render queued only"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:["Caption Width (",j,"%)"]}),e.jsx("input",{type:"range",min:"60",max:"100",step:"2",value:j,onChange:s=>ae(Number(s.target.value)),className:"w-full accent-primary-500"}),e.jsx("p",{className:"text-[10px] text-gray-500 mt-1 uppercase tracking-tighter",children:"Lower value = more padding and tighter line wrapping"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Audio Source (required for waveform)"}),e.jsx(U,{value:y,onChange:s=>O(s.target.value),placeholder:"e.g. server/outputs/tts-xyz.mp3",className:"bg-black/20"}),se.length>0&&e.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:se.slice(0,4).map(s=>e.jsx("button",{onClick:()=>O(s.path),className:"text-[10px] px-2 py-1 rounded-full bg-white/10 text-gray-200 hover:bg-white/20",children:s.kind},s.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Soundtrack (optional)"}),e.jsx(U,{value:P,onChange:s=>$(s.target.value),placeholder:"e.g. server/outputs/music.mp3",className:"bg-black/20"}),e.jsxs(c,{onClick:Te,variant:"secondary",className:"mt-2 h-9 text-xs border-dashed border-white/10",children:[e.jsx(J,{size:14,className:"mr-2"}),"Select from Music Library"]}),e.jsxs("label",{className:"block text-xs text-gray-500 mt-2",children:["Music Volume (",k,")"]}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:k,onChange:s=>re(Number(s.target.value)),className:"w-full accent-primary-500"}),e.jsxs("label",{className:"mt-3 flex items-center gap-2 text-xs text-gray-400",children:[e.jsx("input",{type:"checkbox",checked:M,onChange:s=>le(s.target.checked),className:"rounded border-white/10 bg-black/50 checked:bg-primary-500"}),"Auto-duck music under voice"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Overlay Text (max 6 lines)"}),e.jsx(Qe,{value:f,onChange:s=>L(s.target.value),placeholder:"Enter your script lines here...",className:"bg-black/20 h-32"}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[e.jsxs(c,{variant:"secondary",className:"h-8 text-xs",onClick:()=>A(!0),children:[e.jsx(ve,{size:14,className:"mr-2"}),"Pick From Scripts"]}),B.length>0&&e.jsx(c,{variant:"secondary",className:"h-8 text-xs",onClick:()=>L(_(B[0])),children:"Use Latest Script"})]}),e.jsx("p",{className:"text-[10px] text-gray-500 mt-1 uppercase tracking-tighter",children:"One line per caption slide (auto-sliced)"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"background",checked:n,onChange:s=>q(s.target.checked),className:"rounded border-white/10 bg-black/50 checked:bg-primary-500",disabled:g}),e.jsx("label",{htmlFor:"background",className:"text-sm text-gray-400",children:"Render in background (Jobs System)"}),g&&e.jsx("span",{className:"text-[10px] text-yellow-300",children:"Required for 60s+"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs(c,{onClick:()=>me("video"),isLoading:Y,className:"w-full h-12 text-md",disabled:!T||g&&!n,children:[e.jsx(Ke,{size:18,className:"mr-2"}),n?"Queue Video Render":"Start Instant Render"]}),e.jsxs(c,{onClick:()=>me("waveform"),isLoading:Y,variant:"secondary",className:"w-full h-12 text-md",disabled:!T||g&&!n,children:[e.jsx(es,{size:18,className:"mr-2"}),n?"Queue Waveform Render":"Render Waveform MP4"]})]})]})]}),d&&e.jsx(S,{title:"Render Result",className:"border-green-500/20 bg-green-500/5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-3 bg-black/40 rounded-lg font-mono text-xs text-green-400 break-all",children:d.file||JSON.stringify(d)}),e.jsxs(c,{onClick:()=>{const s=D(d.file,p.baseUrl);window.open(s,"_blank")},variant:"secondary",className:"w-full",children:[e.jsx(Ze,{size:16,className:"mr-2"}),"Open Video"]})]})}),f&&e.jsx(S,{title:"Share Kit",className:"border-white/10 bg-white/[0.03]",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-xs text-gray-400",children:"Copy your caption and upload the rendered file to TikTok/IG/YouTube Shorts."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] uppercase tracking-widest text-gray-500 mb-1",children:"Video to Share"}),e.jsxs(C,{value:R,onChange:s=>z(s.target.value),children:[d?.file&&e.jsx("option",{value:d.file,children:"Latest Instant Render"}),F.length>0&&e.jsx("optgroup",{label:"Completed Jobs",children:F.map(s=>e.jsx("option",{value:s.path,children:s.label},s.id))}),!d?.file&&F.length===0&&e.jsx("option",{value:"",children:"No rendered videos found"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] uppercase tracking-widest text-gray-500 mb-1",children:"Or Paste Video Path"}),e.jsx(U,{value:R,onChange:s=>z(s.target.value),placeholder:"outputs/video-xyz.mp4",className:"bg-black/20"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:e.jsx(c,{variant:"secondary",className:"text-xs h-8",onClick:fe,children:"Refresh Rendered Videos"})}),e.jsx("div",{className:"bg-black/30 border border-white/10 rounded-lg p-3 text-xs text-gray-200 whitespace-pre-wrap",children:f.split(`
`).filter(Boolean).join(" ")}),e.jsx("div",{className:"flex flex-wrap gap-2",children:e.jsx(c,{variant:"secondary",className:"text-xs h-8 w-full sm:w-auto",onClick:()=>{navigator.clipboard.writeText(f.split(`
`).filter(Boolean).join(" ")),i.success("Caption copied")},children:"Copy Caption"})}),e.jsxs("div",{className:"pt-2 border-t border-white/10 space-y-2",children:[e.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest",children:"Auto Post"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[e.jsxs(C,{value:N,onChange:s=>Ae(s.target.value),children:[e.jsx("option",{value:"webhook",children:"Webhook (Zapier/Make)"}),e.jsx("option",{value:"buffer",children:"Buffer (Legacy)"}),e.jsx("option",{value:"youtube",children:"YouTube (Direct)"}),e.jsx("option",{value:"instagram",children:"Instagram (Direct)"}),e.jsx("option",{value:"tiktok",children:"TikTok (Direct)"})]}),N==="webhook"?e.jsxs(C,{value:oe,onChange:s=>ce(s.target.value),children:[e.jsx("option",{value:"",children:"Select webhook..."}),Be.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}):N==="buffer"?e.jsxs(C,{value:ne,onChange:s=>de(s.target.value),children:[e.jsx("option",{value:"",children:"Select profile..."}),ze.map(s=>e.jsx("option",{value:s,children:s},s))]}):e.jsx("div",{className:"text-[10px] text-yellow-300 bg-yellow-500/10 border border-yellow-500/20 rounded-md px-2 py-1",children:"Direct API requires OAuth setup"}),e.jsx(c,{onClick:$e,className:"text-xs h-8",children:"Share Now"})]})]})]})}),we&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>I(!1)}),e.jsxs(S,{className:"relative w-full max-w-4xl max-h-[80vh] overflow-hidden flex flex-col border-white/20 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[e.jsx("h3",{className:"font-bold text-lg text-white",children:"Select Background"}),e.jsx("button",{onClick:()=>I(!1),className:"text-gray-500 hover:text-white",children:e.jsx(H,{size:24})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:Se?e.jsx("div",{className:"col-span-full py-20 flex justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-primary-500"})}):K.length>0?K.map(s=>e.jsxs("div",{className:"group relative aspect-[9/16] bg-black rounded-xl overflow-hidden cursor-pointer hover:ring-2 hover:ring-primary-500 transition-all shadow-lg",onClick:()=>Oe(s),children:[e.jsx("img",{src:xe(s),className:"w-full h-full object-cover opacity-70 group-hover:opacity-100 transition-opacity",alt:"",loading:"lazy",onError:a=>pe(a,s)}),ue(s.previewUrl||s.url)&&e.jsx("video",{src:V(s.previewUrl||s.url),className:"absolute inset-0 w-full h-full object-cover opacity-0 group-hover:opacity-100 transition-opacity",muted:!0,loop:!0,playsInline:!0,autoPlay:!0,preload:"metadata",onError:a=>{a.currentTarget.style.display="none"}}),e.jsx("div",{className:"absolute inset-x-0 bottom-0 p-2 bg-gradient-to-t from-black/80 to-transparent",children:e.jsxs("p",{className:"text-[10px] font-mono text-white truncate",children:["ID: ",s.id]})})]},s.id)):e.jsxs("div",{className:"col-span-full py-20 text-center opacity-30 text-white",children:[e.jsx(J,{size:48,className:"mx-auto mb-4"}),e.jsx("p",{children:"Your library is empty."})]})})]})]}),Le&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>A(!1)}),e.jsxs(S,{className:"relative w-full max-w-4xl max-h-[80vh] overflow-hidden flex flex-col border-white/20 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[e.jsx("h3",{className:"font-bold text-lg text-white",children:"Scripts Library"}),e.jsx("button",{onClick:()=>A(!1),className:"text-gray-500 hover:text-white",children:e.jsx(H,{size:24})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:B.length===0?e.jsxs("div",{className:"text-center opacity-50 text-white py-12",children:[e.jsx(ve,{size:48,className:"mx-auto mb-4"}),e.jsx("p",{children:"No scripts found. Generate scripts first."})]}):B.map((s,a)=>e.jsxs("div",{className:"border border-white/10 rounded-xl p-4 hover:border-primary-500/40 transition",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:"font-semibold text-white text-sm",children:[a+1,". ",s.title]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{variant:"secondary",className:"text-xs h-8",onClick:()=>{const r=_(s);L(r),A(!1),i.success("Script loaded into overlay")},children:"Use"}),e.jsx(c,{variant:"secondary",className:"text-xs h-8",onClick:()=>{const r=_(s);navigator.clipboard.writeText(r),i.success("Copied to clipboard")},children:"Copy"})]})]}),e.jsxs("div",{className:"text-xs text-gray-300 space-y-1",children:[e.jsx("p",{children:s.hook}),e.jsxs("p",{children:[s.verse," (",s.reference,")"]}),e.jsx("p",{children:s.reflection}),e.jsx("p",{children:s.cta})]})]},`${s.title}-${a}`))})]})]}),Ce&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>E(!1)}),e.jsxs(S,{className:"relative w-full max-w-3xl max-h-[80vh] overflow-hidden flex flex-col border-white/20 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[e.jsx("h3",{className:"font-bold text-lg text-white",children:"Music Library"}),e.jsx("button",{onClick:()=>E(!1),className:"text-gray-500 hover:text-white",children:e.jsx(H,{size:24})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:Me?e.jsx("div",{className:"py-20 flex justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-primary-500"})}):Z.length>0?Z.map(s=>e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-3 flex flex-col md:flex-row md:items-center gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider",children:s.name||"Audio"}),e.jsx("p",{className:"text-xs font-mono text-white/80 truncate",children:s.path})]}),e.jsx("audio",{controls:!0,src:D(s.path,p.baseUrl),className:"w-full md:w-56"}),e.jsx(c,{onClick:()=>We(s),className:"text-xs h-8",variant:"secondary",children:"Use"})]},s.path||s.name)):e.jsx("div",{className:"py-20 text-center text-gray-400 text-sm",children:"No audio files found in outputs."})})]})]})]})}export{us as RenderPage};
